(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function g(t){let e=window.scrollY,i=document.querySelector(t).offsetTop-e,r=null;function o(l){r===null&&(r=l);let a=l-r,c=s(a,e,i,1e3);window.scrollTo(0,c),a<1e3&&requestAnimationFrame(o)}function s(l,a,c,d){return l/=d/2,l<1?c/2*l*l+a:(l--,-c/2*(l*(l-2)-1)+a)}requestAnimationFrame(o)}function p(t){t.stopPropagation();let e=document.querySelector(".mobile-menu");if(e.classList.contains("is-open")){e.classList.remove("is-open");return}e.classList.add("is-open"),e.addEventListener("click",i);let n=document.body;n.addEventListener("click",i);function i(r){console.log(r.currentTarget.nodeName),r.stopPropagation(),r.currentTarget.nodeName==="BODY"&&o(),r.target.classList.contains("js-close")&&o();function o(){e.classList.remove("is-open"),e.removeEventListener("click",i),n.removeEventListener("click",i)}}}function v(t){t.target.classList.contains("input-error")&&t.target.classList.remove("input-error");let e=t.target.value.replace(/\D/g,""),n="";t.target.selectionStart!==t.target.value.length&&!(t.data&&/\D/g.test(t.data))&&e.length<12||(["3","8","0"].includes(e[0])?(e[0]=="8"&&(e="3"+e),e[0]=="0"&&(e="38"+e),e.length>=1&&(n=e.slice(0,2)),e.length>=3&&(n+=" ("+e.slice(2,5)),e.length>=6&&(n+=") "+e.slice(5,8)),e.length>=9&&(n+="-"+e.slice(8,10)),e.length>=11&&(n+="-"+e.slice(10,12))):n=e.slice(0,15),t.target.value="+"+n.slice(0,19))}function h(t){let e=JSON.parse(localStorage.getItem("form-state"))??{name:"",phone:"",comment:"",email:""},n=t.target;if(n.classList.contains("input-error")&&n.classList.remove("input-error"),n.name==="name"){let i=n.value.split(" ").map(r=>{if(r[0])return r[0].toUpperCase()+r.slice(1)}).join(" ");n.value=i.replace(/\d/g,"")}e[n.name]=n.value.trim(),localStorage.setItem("form-state",JSON.stringify(e))}function y(t){let e=t.target.value.replace(/\D/g,"");t.keyCode==8&&e.length==1&&(t.target.value="")}function L(t){t.preventDefault();let e=JSON.parse(localStorage.getItem("form-state"))??{name:"",phone:"",comment:"",email:""};if(e.name===""){t.target.elements.name.classList.add("input-error");return}if(e.phone.length<19&&e.phone.includes("+38")){t.target.elements.phone.classList.add("input-error");return}console.log(JSON.stringify(e)),localStorage.removeItem("form-state"),t.target.reset()}let S=document.querySelector(".header-menu-open-btn");S.addEventListener("click",p);let b=document.querySelector(".hero-button");b.addEventListener("click",t=>{document.querySelector(".order-title").scrollIntoView({behavior:"smooth"})});const u=document.querySelector(".order-form-container");let m=JSON.parse(localStorage.getItem("form-state"))??{name:"",phone:"",comment:"",email:""};for(const t in m)u.elements[t].value=m[t];u.addEventListener("input",h);const f=document.querySelector('input[type="tel"]');f.addEventListener("input",v);f.addEventListener("keydown",y);u.addEventListener("submit",L);let k=document.querySelectorAll("a[href^='#']");for(let t of k)t.addEventListener("click",function(e){e.preventDefault();let n=this.getAttribute("href");g(n)});
//# sourceMappingURL=commonHelpers.js.map
