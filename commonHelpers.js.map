{"version":3,"file":"commonHelpers.js","sources":["../src/js/slow-scroll.js","../src/js/mod.js","../src/js/form.js","../src/main.js"],"sourcesContent":["export function slowScroll(target) {\n  let currentPosition = window.scrollY;\n  let targetPosition = document.querySelector(target).offsetTop;\n  let distance = targetPosition - currentPosition;\n  let startTime = null;\n\n  function animation(currentTime) {\n    if (startTime === null) {\n      startTime = currentTime;\n    }\n    let timeElapsed = currentTime - startTime;\n    let run = ease(timeElapsed, currentPosition, distance, 1000);\n    window.scrollTo(0, run);\n    if (timeElapsed < 1000) {\n      requestAnimationFrame(animation);\n    }\n  }\n\n  function ease(t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) {\n      return (c / 2) * t * t + b;\n    }\n    t--;\n    return (-c / 2) * (t * (t - 2) - 1) + b;\n  }\n\n  requestAnimationFrame(animation);\n}\n","export function burgerMenuOpenClose(eve) {\n  eve.stopPropagation();\n  let mobileMenu = document.querySelector(`.mobile-menu`);\n  if (mobileMenu.classList.contains(`is-open`)) {\n    mobileMenu.classList.remove(`is-open`);\n    return;\n  }\n  mobileMenu.classList.add(`is-open`);\n  mobileMenu.addEventListener(`click`, checkKlick);\n\n  let checkClickBody = document.body;\n  checkClickBody.addEventListener(`click`, checkKlick);\n\n  function checkKlick(e) {\n    console.log(e.currentTarget.nodeName);\n    e.stopPropagation();\n    if (e.currentTarget.nodeName === `BODY`) closeMenu();\n    if (e.target.classList.contains(`js-close`)) closeMenu();\n\n    function closeMenu() {\n      mobileMenu.classList.remove(`is-open`);\n      mobileMenu.removeEventListener(`click`, checkKlick);\n      checkClickBody.removeEventListener(`click`, checkKlick);\n    }\n  }\n}\n","export function validateTelNumber(e) {\n  if (e.target.classList.contains(`input-error`))\n    e.target.classList.remove(`input-error`);\n\n  let number = e.target.value.replace(/\\D/g, ``);\n  let result = ``;\n\n  if (e.target.selectionStart !== e.target.value.length) {\n    if (!(e.data && /\\D/g.test(e.data))) {\n      if (number.length < 12) return;\n    }\n  }\n\n  if ([`3`, `8`, `0`].includes(number[0])) {\n    if (number[0] == `8`) number = '3' + number;\n    if (number[0] == `0`) number = '38' + number;\n    if (number.length >= 1) result = number.slice(0, 2);\n    if (number.length >= 3) result += ' (' + number.slice(2, 5);\n    if (number.length >= 6) result += ') ' + number.slice(5, 8);\n\n    if (number.length >= 9) result += '-' + number.slice(8, 10);\n    if (number.length >= 11) result += '-' + number.slice(10, 12);\n  } else {\n    result = number.slice(0, 15);\n  }\n  e.target.value = '+' + result.slice(0, 19);\n}\nexport function formText(e) {\n  let formMassege = JSON.parse(localStorage.getItem(`form-state`)) ?? {\n    name: ``,\n    phone: ``,\n    comment: ``,\n    email: ``,\n  };\n  let input = e.target;\n  if (input.classList.contains(`input-error`))\n    input.classList.remove(`input-error`);\n  if (input.name === `name`) {\n    let r = input.value\n      .split(` `)\n      .map(e => {\n        if (e[0]) return e[0].toUpperCase() + e.slice(1);\n      })\n      .join(` `);\n    input.value = r.replace(/\\d/g, ``);\n  }\n  formMassege[input.name] = input.value.trim();\n  localStorage.setItem(`form-state`, JSON.stringify(formMassege));\n}\nexport function deleteNumber(e) {\n  let n = e.target.value.replace(/\\D/g, ``);\n  if (e.keyCode == 8 && n.length == 1) e.target.value = ``;\n}\nexport function formSubmit(e) {\n  e.preventDefault();\n  let formMassege = JSON.parse(localStorage.getItem(`form-state`)) ?? {\n    name: ``,\n    phone: ``,\n    comment: ``,\n    email: ``,\n  };\n\n  if (formMassege.name === ``) {\n    e.target.elements.name.classList.add(`input-error`);\n    return;\n  }\n  if (formMassege.phone.length < 19 && formMassege.phone.includes(`+38`)) {\n    e.target.elements.phone.classList.add(`input-error`);\n    return;\n  }\n  console.log(JSON.stringify(formMassege));\n  localStorage.removeItem(`form-state`);\n  e.target.reset();\n}\n","import { slowScroll } from './js/slow-scroll';\nimport { burgerMenuOpenClose } from './js/mod';\nimport {\n  validateTelNumber,\n  formText,\n  deleteNumber,\n  formSubmit,\n} from './js/form.js';\nlet burgerMenu = document.querySelector(`.header-menu-open-btn`);\nburgerMenu.addEventListener(`click`, burgerMenuOpenClose);\n\nlet orderButton = document.querySelector(`.hero-button`);\norderButton.addEventListener(`click`, e => {\n  document.querySelector(`.order-title`).scrollIntoView({ behavior: 'smooth' });\n});\n\n// save form data to local-storage-----------------------------\nconst form = document.querySelector(`.order-form-container`);\n\nlet formMassege = JSON.parse(localStorage.getItem(`form-state`)) ?? {\n  name: ``,\n  phone: ``,\n  comment: ``,\n  email: ``,\n};\nfor (const key in formMassege) {\n  form.elements[key].value = formMassege[key];\n}\n\nform.addEventListener(`input`, formText);\n\n// phone number validation ====================================\nconst telInput = document.querySelector(`input[type=\"tel\"]`);\ntelInput.addEventListener(`input`, validateTelNumber);\ntelInput.addEventListener(`keydown`, deleteNumber);\n\n// submit form===================\nform.addEventListener(`submit`, formSubmit);\n\n// slow scroll for id\n\nlet links = document.querySelectorAll(\"a[href^='#']\");\nfor (let link of links) {\n  link.addEventListener('click', function (e) {\n    e.preventDefault();\n    let target = this.getAttribute('href');\n    slowScroll(target);\n  });\n}\n// =============================\n"],"names":["slowScroll","target","currentPosition","distance","startTime","animation","currentTime","timeElapsed","run","ease","t","b","burgerMenuOpenClose","eve","mobileMenu","checkKlick","checkClickBody","e","closeMenu","validateTelNumber","number","result","formText","formMassege","input","r","deleteNumber","n","formSubmit","burgerMenu","orderButton","form","key","telInput","links","link"],"mappings":"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"}